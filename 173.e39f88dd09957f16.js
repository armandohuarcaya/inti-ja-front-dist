"use strict";(self.webpackChunkinti_ja_front=self.webpackChunkinti_ja_front||[]).push([[173],{6173:(G,S,f)=>{f.r(S),f.d(S,{UsersModule:()=>$});var F=f(6895),m=f(5263);function g(s){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function u(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function O(s,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}function c(s,i,n){return i&&O(s.prototype,i),n&&O(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}function C(){return C=Object.assign||function(s){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])}return s},C.apply(this,arguments)}function h(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(i&&i.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),i&&w(s,i)}function y(s){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(s)}function w(s,i){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(s,i)}function l(s){var i=function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var e,t=y(s);if(i){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function B(s,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function x(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,e)}}var _=function(){function s(){u(this,s)}return c(s,[{key:"listenForWhisper",value:function(n,t){return this.listen(".client-"+n,t)}},{key:"notification",value:function(n){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",n)}},{key:"stopListeningForWhisper",value:function(n,t){return this.stopListening(".client-"+n,t)}}]),s}(),j=function(){function s(i){u(this,s),this.namespace=i}return c(s,[{key:"format",value:function(n){return"."===n.charAt(0)||"\\"===n.charAt(0)?n.substr(1):(this.namespace&&(n=this.namespace+"."+n),n.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(n){this.namespace=n}}]),s}(),d=function(s){h(n,s);var i=l(n);function n(t,e,r){var o;return u(this,n),(o=i.call(this)).name=e,o.pusher=t,o.options=r,o.eventFormatter=new j(o.options.namespace),o.subscribe(),o}return c(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(e,r){return this.on(this.eventFormatter.format(e),r),this}},{key:"listenToAll",value:function(e){var r=this;return this.subscription.bind_global(function(o,p){if(!o.startsWith("pusher:")){var v=r.options.namespace.replace(/\./g,"\\"),P=o.startsWith(v)?o.substring(v.length+1):"."+o;e(P,p)}}),this}},{key:"stopListening",value:function(e,r){return r?this.subscription.unbind(this.eventFormatter.format(e),r):this.subscription.unbind(this.eventFormatter.format(e)),this}},{key:"stopListeningToAll",value:function(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(e){return this.on("pusher:subscription_succeeded",function(){e()}),this}},{key:"error",value:function(e){return this.on("pusher:subscription_error",function(r){e(r)}),this}},{key:"on",value:function(e,r){return this.subscription.bind(e,r),this}}]),n}(_),q=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"whisper",value:function(e,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),r),this}}]),n}(d),M=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"whisper",value:function(e,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),r),this}}]),n}(d),z=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"here",value:function(e){return this.on("pusher:subscription_succeeded",function(r){e(Object.keys(r.members).map(function(o){return r.members[o]}))}),this}},{key:"joining",value:function(e){return this.on("pusher:member_added",function(r){e(r.info)}),this}},{key:"whisper",value:function(e,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),r),this}},{key:"leaving",value:function(e){return this.on("pusher:member_removed",function(r){e(r.info)}),this}}]),n}(d),T=function(s){h(n,s);var i=l(n);function n(t,e,r){var o;return u(this,n),(o=i.call(this)).events={},o.listeners={},o.name=e,o.socket=t,o.options=r,o.eventFormatter=new j(o.options.namespace),o.subscribe(),o}return c(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(e,r){return this.on(this.eventFormatter.format(e),r),this}},{key:"stopListening",value:function(e,r){return this.unbindEvent(this.eventFormatter.format(e),r),this}},{key:"subscribed",value:function(e){return this.on("connect",function(r){e(r)}),this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,r){var o=this;return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=function(p,v){o.name===p&&o.listeners[e]&&o.listeners[e].forEach(function(P){return P(v)})},this.socket.on(e,this.events[e])),this.listeners[e].push(r),this}},{key:"unbind",value:function(){var e=this;Object.keys(this.events).forEach(function(r){e.unbindEvent(r)})}},{key:"unbindEvent",value:function(e,r){this.listeners[e]=this.listeners[e]||[],r&&(this.listeners[e]=this.listeners[e].filter(function(o){return o!==r})),(!r||0===this.listeners[e].length)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}]),n}(_),E=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"whisper",value:function(e,r){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:r}),this}}]),n}(T),H=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"here",value:function(e){return this.on("presence:subscribed",function(r){e(r.map(function(o){return o.user_info}))}),this}},{key:"joining",value:function(e){return this.on("presence:joining",function(r){return e(r.user_info)}),this}},{key:"whisper",value:function(e,r){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:r}),this}},{key:"leaving",value:function(e){return this.on("presence:leaving",function(r){return e(r.user_info)}),this}}]),n}(E),k=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(e,r){return this}},{key:"listenToAll",value:function(e){return this}},{key:"stopListening",value:function(e,r){return this}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,r){return this}}]),n}(_),A=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"whisper",value:function(e,r){return this}}]),n}(k),X=function(s){h(n,s);var i=l(n);function n(){return u(this,n),i.apply(this,arguments)}return c(n,[{key:"here",value:function(e){return this}},{key:"joining",value:function(e){return this}},{key:"whisper",value:function(e,r){return this}},{key:"leaving",value:function(e){return this}}]),n}(k),I=function(){function s(i){u(this,s),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(i),this.connect()}return c(s,[{key:"setOptions",value:function(n){this.options=C(this._defaultOptions,n);var t=this.csrfToken();return t&&(this.options.auth.headers["X-CSRF-TOKEN"]=t,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=t),(t=this.options.bearerToken)&&(this.options.auth.headers.Authorization="Bearer "+t,this.options.userAuthentication.headers.Authorization="Bearer "+t),n}},{key:"csrfToken",value:function(){var n;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&"function"==typeof document.querySelector&&(n=document.querySelector('meta[name="csrf-token"]'))?n.getAttribute("content"):null}}]),s}(),W=function(s){h(n,s);var i=l(n);function n(){var t;return u(this,n),(t=i.apply(this,arguments)).channels={},t}return c(n,[{key:"connect",value:function(){this.pusher=typeof this.options.client<"u"?this.options.client:this.options.Pusher?new this.options.Pusher(this.options.key,this.options):new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(e,r,o){return this.channel(e).listen(r,o)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new d(this.pusher,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new q(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"encryptedPrivateChannel",value:function(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new M(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new z(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var r=this;[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(function(p,v){r.leaveChannel(p)})}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(I),Q=function(s){h(n,s);var i=l(n);function n(){var t;return u(this,n),(t=i.apply(this,arguments)).channels={},t}return c(n,[{key:"connect",value:function(){var e=this,r=this.getSocketIO();return this.socket=r(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(e.channels).forEach(function(o){o.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(e,r,o){return this.channel(e).listen(r,o)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new T(this.socket,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new E(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new H(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var r=this;[e,"private-"+e,"presence-"+e].forEach(function(p){r.leaveChannel(p)})}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(I),V=function(s){h(n,s);var i=l(n);function n(){var t;return u(this,n),(t=i.apply(this,arguments)).channels={},t}return c(n,[{key:"connect",value:function(){}},{key:"listen",value:function(e,r,o){return new k}},{key:"channel",value:function(e){return new k}},{key:"privateChannel",value:function(e){return new A}},{key:"encryptedPrivateChannel",value:function(e){return new A}},{key:"presenceChannel",value:function(e){return new X}},{key:"leave",value:function(e){}},{key:"leaveChannel",value:function(e){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(I),Z=function(){function s(i){u(this,s),this.options=i,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return c(s,[{key:"channel",value:function(n){return this.connector.channel(n)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new W(this.options):"socket.io"==this.options.broadcaster?this.connector=new Q(this.options):"null"==this.options.broadcaster?this.connector=new V(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(n){return this.connector.presenceChannel(n)}},{key:"leave",value:function(n){this.connector.leave(n)}},{key:"leaveChannel",value:function(n){this.connector.leaveChannel(n)}},{key:"leaveAllChannels",value:function(){for(var n in this.connector.channels)this.leaveChannel(n)}},{key:"listen",value:function(n,t,e){return this.connector.listen(n,t,e)}},{key:"private",value:function(n){return this.connector.privateChannel(n)}},{key:"encryptedPrivate",value:function(n){return this.connector.encryptedPrivateChannel(n)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup(),"object"===(typeof Turbo>"u"?"undefined":g(Turbo))&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var n=this;Vue.http.interceptors.push(function(t,e){n.socketId()&&t.headers.set("X-Socket-ID",n.socketId()),e()})}},{key:"registerAxiosRequestInterceptor",value:function(){var n=this;axios.interceptors.request.use(function(t){return n.socketId()&&(t.headers["X-Socket-Id"]=n.socketId()),t})}},{key:"registerjQueryAjaxSetup",value:function(){var n=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(t,e,r){n.socketId()&&r.setRequestHeader("X-Socket-Id",n.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var n=this;document.addEventListener("turbo:before-fetch-request",function(t){t.detail.fetchOptions.headers["X-Socket-Id"]=n.socketId()})}}]),s}(),a=f(4650),R=f(4401),b=f(5102);let U=(()=>{var s;class i{constructor(t){this.service=t}ngOnInit(){this.getUsers(),this.webSockets(),this.getInfoUsers()}getUsers(){this.service.nameAll$("user").subscribe(e=>{this.user=e.data})}getInfoUsers(){this.service.nameAll$("info-user").subscribe(e=>{})}webSockets(){new Z({broadcaster:"pusher",cluster:"mt1",key:"ABCDEFGH",wsHost:window.location.hostname,wsPort:6001,disableStats:!0,enabledStats:["ws"],forceTLS:!1}).channel("channel-message").listen("MessageEvent",e=>{e&&this.getUsers()})}}return(s=i).\u0275fac=function(t){return new(t||s)(a.Y36(R.m))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-users-home"]],decls:5,vars:1,consts:[["accent","primary"]],template:function(t,e){1&t&&(a.TgZ(0,"nb-card",0)(1,"nb-card-header"),a._uU(2," Holas "),a.qZA(),a.TgZ(3,"nb-card-body"),a._uU(4),a.qZA()()),2&t&&(a.xp6(4),a.hij(" Email: ",null==e.user?null:e.user.email," "))},dependencies:[b.Asz,b.yKW,b.ndF],encapsulation:2}),i})();const D=[{path:"",component:(()=>{var s;class i{constructor(){}ngOnInit(){}}return(s=i).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-users"]],decls:1,vars:0,template:function(t,e){1&t&&a._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),i})(),children:[{path:"",component:U}]}];let K=(()=>{var s;class i{}return(s=i).\u0275fac=function(t){return new(t||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[m.Bz.forChild(D),m.Bz]}),i})();const J=[b.zyh];let $=(()=>{var s;class i{}return(s=i).\u0275fac=function(t){return new(t||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({providers:[R.m],imports:[F.ez,K,J]}),i})()}}]);